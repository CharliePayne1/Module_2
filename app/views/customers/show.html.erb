
<%
=begin%>
 <body>
    <div class="container">
        <h1 class="center-align"> My Accounts </h1>
        <h2><%= @customer.full_name %></h2><br>
        <div class="col s6 offset-s4"><span class="flow-text"><%= @customer.my_funds %></span></div>
    </div>
  </body>

    <%= link_to '<i class="material-icons right">create</i>Edit Profile'.html_safe, edit_customer_path(@customer), class="waves-effect waves-light btn" %>
 
<%
=end%>

        




<h1><%= @customer.full_name %></h1>
<h4>Age: <%= @customer.age %></h4>
<h4>Occupation: <%= @customer.occupation %><h4>
<%= button_to 'Update your details', edit_customer_path, method: :get %>
<br>
<br>
<h3> Bank Accounts </h3>
<% @customer.bank_accounts.each do |bank_account| %>
<h4><%= bank_account.type_of_account %> account</h4>
<ul>
<h5><li>Account Number: <%= link_to bank_account.account_number, bank_account %> | Sort Code: <%= bank_account.sort_code %></li>
<li>Available Funds: £<%= bank_account.available_funds %></li>
<li>Balance: £<%= bank_account.funds %> | Overdraft: £<%= bank_account.overdraft %></h5></li></ul>
<%end%>
<br>
<br>
<br>
<h4> Open New Account </h4>
<%= form_with model: BankAccount.new do |f| %>
<%= f.hidden_field :account_number, value: Faker::Number.between(from: 10000000, to: 99999999) %>
<%= f.hidden_field :sort_code, value: Faker::Number.between(from: 10000000, to: 99999999) %>
<%= f.label :type_of_account %>
<%= f.select :type_of_account, ['current', 'savings', 'foreign'] %>
<br>
<br>
<%= f.label :funds %>
<%= f.number_field :funds %>
<br>
<br>
<%= f.label :overdraft_limit%>
<%= f.select :overdraft, options_for_select((0..2000).step(250)), {:style=>'display: block;'} %>
<br>
<br>
<%= f.hidden_field :customer_id, value: @customer.id %>
<%= f.submit %>
<%end%>
